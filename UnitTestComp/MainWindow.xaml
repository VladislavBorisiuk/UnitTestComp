<dx:ThemedWindow
    x:Class="UnitTestComp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
    Title="Test compiler"
    Width="1000"
    Height="800"
    WindowStartupLocation="CenterScreen">
    <Grid>
        <!--  Button to browse for the DLL  -->
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <TextBlock
            Grid.Row="0"
            Grid.Column="0"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Text="Путь до dll тестов:" />
        <!--  TextBox to display selected DLL path  -->
        <StackPanel
            Grid.Row="0"
            Grid.Column="1"
            Margin="10"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <ComboBox
                Name="RecentDllsComboBox"
                Width="600"
                Height="30"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                SelectionChanged="RecentDllsComboBox_SelectionChanged" />
            <dx:SimpleButton
                Width="30"
                Height="30"
                Click="BrowseButton_Click"
                Glyph="{dx:DXImage SvgImages/Actions/Open.svg}" />
        </StackPanel>

        <TextBlock
            Grid.Row="1"
            Grid.Column="0"
            HorizontalAlignment="Center"
            VerticalAlignment="Center"
            Text="Список тестов из библиотеки:" />
        <!--  ListBox to display available tests  -->
        <dxe:ListBoxEdit
            Name="TestListBox"
            Grid.Row="1"
            Grid.Column="1"
            Width="630"
            Height="200"
            Margin="10"
            HorizontalAlignment="Center"
            VerticalAlignment="Top"
            SelectionMode="Multiple">
            <dxe:ListBoxEdit.StyleSettings>
                <dxe:CheckedListBoxEditStyleSettings />
            </dxe:ListBoxEdit.StyleSettings>
        </dxe:ListBoxEdit>
        <StackPanel
            Grid.Row="2"
            Grid.Column="1"
            HorizontalAlignment="Center"
            Orientation="Horizontal">
            <Button
                Name="RunTestsButton"
                Width="150"
                Height="30"
                Margin="5"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Click="RunTestsButton_Click"
                Content="Запустить выбранные" />
            <Button
                Name="CreateReportButton"
                Width="150"
                Height="30"
                Margin="5"
                HorizontalAlignment="Center"
                VerticalAlignment="Top"
                Click="CreateReportButton_Click"
                Content="Сохранить Dock отчет"
                IsEnabled="False" />

        </StackPanel>
        <Grid
            Grid.Row="3"
            Grid.Column="0"
            Grid.ColumnSpan="2">
            <Grid.RowDefinitions>
                <RowDefinition />
                <RowDefinition />
            </Grid.RowDefinitions>
            <TextBlock Grid.Row="0" />
            <dxg:GridControl
                x:Name="ResultGrid"
                MaxHeight="700"
                AutoGenerateColumns="None">
                <dxg:GridControl.View>
                    <dxg:TableView>
                        <dxg:TableView.FormatConditions>
                            <dxg:FormatCondition
                                Expression="Contains([Outcome], 'Failed')"
                                FieldName="Outcome"
                                PredefinedFormatName="LightRedFillWithDarkRedText" />
                            <dxg:FormatCondition
                                Expression="Contains([Outcome], 'Passed')"
                                FieldName="Outcome" >
                                <dx:Format Background="#FF9BBB59" Foreground="#FF2B4B00"/>
                            </dxg:FormatCondition>
                        </dxg:TableView.FormatConditions>
                    </dxg:TableView>
                </dxg:GridControl.View>
                <dxg:GridControl.Columns>
                    <!--  Полное имя теста  -->
                    <dxg:GridColumn FieldName="TestCase.DisplayName" Header="Имя теста" />
                    <!--  Продолжительность теста  -->
                    <dxg:GridColumn FieldName="Duration" Header="Продолжительность" />
                    <!--  Результат теста  -->
                    <dxg:GridColumn FieldName="Outcome" Header="Результат" />
                </dxg:GridControl.Columns>
            </dxg:GridControl>

        </Grid>
    </Grid>
</dx:ThemedWindow>
